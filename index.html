<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/solarized.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<style type="text/css">
			.left {
				left:-8.33%;
				text-align: left;
				float: left;
				width:50%;
				z-index:-10;
			  }
			  
			  .right {
				left:31.25%;
				top: 75px;
				float: right;
				text-align: right;
				z-index:-10;
				width:50%;
			  }
			  .img {
				  max-height: 98% !important;
				  max-width: 98% !important;
			  }

		</style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<!-- Me in Ember-->
				<section>
					<h2>Dealing with Data in 2019</h2>
					<div class="right">
						<h3 style="margin-right: 80px">Igor Terzic</h3>
						<h4 style="margin-right: 80px">@terzicigor</h4>
					</div>
				</section>
				<section>
					<h2>Good morning!</h2>
					<aside class="notes">
						I'm really excited to be here
						You can tell because there is a ! 
					</aside>
				</section>
				<section>
					Ember Conf group pic
					<aside class="notes">
						Excited - I get to be here
						My entire professional career has been around Ember
					  Due no credit to myself
					</aside>
				</section>
				<section>
						<a class="image" href="" target="_blank">
								<img src="./images/silicon-valley.jpg" alt="Meny">
				  </a>
					<aside class="notes">
					</aside>
				</section>
				<section>
								<img style="border:0px; box-shadow:none;"" src="./images/addepar.png" alt="Meny">
				</section>
				<section>
								<img style="border:0px; box-shadow:none;"" src="./images/swing.png" alt="Meny">
					<aside class="notes">
						It's so old that transparent alpha channels werent a thing
					</aside>
				</section>
				<section>
								<img style="border:0px; box-shadow:none;"" src="./images/coffeescript.png" alt="Meny">
					<aside class="notes">
					</aside>
				</section>
				<section>
								<img style="border:0px; box-shadow:none;"" src="./images/grunt.svg" alt="Meny">
					<aside class="notes">
					</aside>
				</section>
				<section>
								<img style="border:0px; box-shadow:none;"" src="./images/ember.svg" alt="Meny">
					<aside class="notes">
					</aside>
				</section>
				<section>
						<div style="display:flex;   justify-content:center">
							<div style="width:33%">
								<img style="border:0px; box-shadow:none;"" src="./images/coffeescript.png" alt="Meny">
							</div>
							<div style="width:33%">
								<img style="border:0px; box-shadow:none;"" src="./images/grunt.svg" alt="Meny">
							</div>
							<div style="width:33%">
								<img style="border:0px; box-shadow:none;"" src="./images/ember.svg" alt="Meny">
							</div>
						</div>
					<aside class="notes">
					</aside>
        </section>
				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/sherlock.jpg" alt="Meny">
					<aside class="notes">
            Archival Footage
						A real thourhgouth investigation
						I took me couple hours before I devoloped a very strong opinion
					</aside>
				</section>
				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/backbone.png" alt="Meny">
					<aside class="notes">
					</aside>
				</section>
				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/ember-data.png" alt="Meny">
					<aside class="notes">
						Luckily I came to my senses
					</aside>
				</section>

				<section>
					<h2>Eight years</h2>
					<aside class="notes">
						It's easy to just be here patting ourselves on the back
						but old is not an argument
					</aside>
        </section>

				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/louvre.jpg" alt="Meny">
					<aside class="notes">
						Unless you're pitching yourself to a museum, but then competition is quite stiff
					</aside>
				</section>

				<section>
					<h2>Why are we still relevant</h2>
					<aside class="notes">
						As a Community We made a series of bets and predictions that paid off
					</aside>
				</section>

				<section>
          <div class="fragment fade-in">
            <h3>What we learned</h3>
          </div>
          <div class="fragment fade-in">
            <h3>Where we are today</h3>
          </div>
          <div class="fragment">
            <h3>How do we solve for tomorrow</h3>
          </div>
				</section>

				<!--2012 is long ago -->
				<section>2011</section>
				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/stark.png" alt="Meny">
				</section>
				<section>
          <h2>Actively Debated:</h2>
          <div class="fragment fade-in">
            <h3>
              Should you use a build system	
            </h3>
          </div>
          <div class="fragment fade-in">
            <h3>
              IE6 support
            </h3>
          </div>
          <div class="fragment fade-in">
            <h3>
              Should Apps require JavaScript
            </h3>
          </div>
          <div class="fragment fade-in">
            <h3>
              Single Page Apps
            </h3>
          </div>
        </section>

				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/earth.jpg" alt="Meny">
					<aside class="notes">
            Thats the enviornment that ED was born in
					</aside>
				</section>

				<!-- SPA -->
				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/ember-data.png" alt="Meny">
					<aside class="notes">
						As a Community We made a series of bets and predictions that paid off
						Break things appart and attack them? 
					</aside>
				</section>

				<section>
					Isolated Model Layer with a schema
						<pre><code data-trim contenteditable>
import DS from 'ember-data';
import { computed } from '@ember/object';

export default DS.Model.extend({
  firstName: DS.attr(),
  lastName: DS.attr(),

  fullName: computed('firstName', 'lastName', function() {
    return `${this.firstName} ${this.lastName}`;
  })
});
					</code></pre>-
					<aside class="notes">
            Data access patterns, 
              isolation from UI state
              loading flags
					</aside>
				</section>
				<section>
					Isolated Model Layer with a schema
						<pre><code data-trim contenteditable>
// in component
model.save()

// in template
{{model.isSaving}}
					</code></pre>-
				</section>
				<section>
					Isolated Model Layer with a schema
						<pre><code data-trim contenteditable>
import DS from 'ember-data';
import { computed } from '@ember/object';

export default DS.Model.extend({
  firstName: DS.attr(),
  lastName: DS.attr(),

  fullName: computed('firstName', 'lastName', function() {
    return `${this.firstName} ${this.lastName}`;
  })
});
					</code></pre>-
					<aside class="notes">
            Data access patterns, 
              isolation from UI state
					</aside>
				</section>
				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/mirage.png" alt="Meny">
					<aside class="notes">
            Alternative Model layers
					</aside>
				</section>
				<section>
          Isolated Serialization and Network Layer
						<pre><code data-trim contenteditable>
import DS from 'ember-data';

export default DS.Serializer.extend({
  normalizeResponse(store, primaryModelClass, payload) {
    return payload;
  }
});
					</code></pre>-
					<aside class="notes">
Adapter/Serializer pattern:
addon ecosystem, ActiveModelSerializer
swapability
					</aside>
				</section>
				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/fastboot.png" alt="Meny">
					<aside class="notes">
					</aside>
				</section>
				<section>Embracing the Consistency
					<aside class="notes">
            Productivity in minutes
					</aside>
				</section>
				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/json-api.png" alt="Meny">
					<aside class="notes">
immediate Productivity out of the box
					</aside>
				</section>
				<section>
          <h2>
          Bets that paid off:
          </h2>
          <h3>Isolating layers</h3>
				</section>
				<section>
          Identity Map
					<aside class="notes">

				</section>
				<section>
          Store Cache & Identity Map
          <img style="border:0px; box-shadow:none;"" src="./images/sam.png" alt="Meny">
					<aside class="notes">
   I was so happy when I saw this tweet:
    1. Cause I think our stuff is awesome
    2. I was like yes, great job Sam, I don't have to do anything myself
					</aside>
				</section>
				<section>
          <h2>
          Relationship consistency
          </h2>
				</section>
				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/addon.png" alt="Meny">
					<aside class="notes">
					</aside>
				</section>
				<section>
					Isolated Model Layer with a schema
						<pre><code data-trim contenteditable>
import DS from 'ember-data';
import { computed } from '@ember/object';

const { attr, hasMany } = DS;

export default DS.Model.extend({
  file: attr(),
  variables: attr(),
  functions: attr(),

  classes: hasMany('class', { async: false, }),
  components: hasMany('class', { async: false, }),

  /*
    This gives us a way to link to a model, since we don't always link by the actual ID:
    {{link-to 'item' model.routingId}}
    Possible refactoring is to always link by actual ID, and implement redirects.
  */
  routingId: computed('id', function() {
    return `modules/${this.get('id')}`;
  })
});
					</code></pre>-
					<aside class="notes">
            Throughout the stack, testing, generators etc
					</aside>
				</section>

				<section>
					Diagram
        </section>

				<section>
					2015
        <aside class="notes">
          Very tactical talk
					</aside>
        </section>

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/octane.png" alt="Meny">
					<aside class="notes">
					</aside>
				</section>
				<section>
  Native Classes
            <pre><code data-trim contenteditable>
import DS from 'ember-data';
const { Model, attr } = DS;

export default class Person extends Model {
  @attr('string') firstName;
  @attr('date') birthday;
}
            </code></pre>-
				</section>
				<section>
Removed the runloop in tests
            <pre><code data-trim contenteditable>
let record = run(() => {
  return store.createRecord('user', { name: 'HeroicEric' })
});
            </code></pre>
            <pre><code data-trim contenteditable>
let record = store.createRecord('user', { name: 'HeroicEric' });
            </code></pre>
					<aside class="notes">
Very tactical talk
We have a thing that works decently, well, there are some sore points
legacy and confusing things, lets focus on fixing those: cache queries,
or relationships and then go live on a beach or race cars as DHH does
					</aside>
        </section>

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/ambition.png" alt="Meny">
					<aside class="notes">
            Ambition is a really annyoing goal to have
					</aside>
        </section>

				<section>
					2012 -> 2019
        </section>

				<section>
          2019 -> 2025
        </section>

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/tom.png" alt="Meny">
        </section>

        <!-- 
          web is evolving?
        -->
        
				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/sam.png" alt="Meny">
					<aside class="notes">
            Lets go back to that tweet I was so proud of a few minutes ago
            Why does Ember+Data work so well for it
					</aside>
        </section>

        <section>
          Consistent API
					<aside class="notes">
We shouldn't optimize the API too much
					</aside>
        </section>

				<section>
          Scale & Performance
        </section>

				<section>
          !!!!
          Advanced Data Management
        </section>

				<section>
          FindAll
        </section>

				<section>
					 Good core
        </section>

				<section>
					 How to expand 
        </section>

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/overflow.png" alt="Meny">
				</section>
				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/overflow2.png" alt="Meny">
				</section>
				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/observer.png" alt="Meny">
        </section>
				<section>
          - Performance at scale
          - Api complexity?

          - Advanced Data Handling Capabilites

          - DX and learning
        </section>

        <section>
Model Fragments
        </section>

        <section>
Model Fragments
        </section>

				<section>
						<pre><code data-trim contenteditable>
import DS from 'ember-data';
import { computed } from '@ember/object';

const { attr, hasMany } = DS;

export default DS.Model.extend({
  file: attr(),
  variables: attr(),
  functions: attr(),

  classes: hasMany('class', { async: false, }),
  components: hasMany('class', { async: false, }),
  routingId: computed('id', function() {
    return `modules/${this.get('id')}`;
  })
});
					</code></pre>-
					<aside class="notes">
            DS.Model
					</aside>
				</section>
				<section>
          Schema Information
						<pre><code data-trim contenteditable>
{
  attributes: ['file', 'variables', 'functions'],
  relationships: ['classes', 'components']
}
          </code></pre>-
				</section>
				<section>
						<pre><code data-trim contenteditable>
let user = store.findRecord('user', 'NullVoxPopuli');
					</code></pre>-
        </section>
				<section>
						<pre><code data-trim contenteditable>
import DS from 'ember-data';
import { computed } from '@ember/object';

const { attr, hasMany } = DS;

export default DS.Model.extend({
  file: attr(),
  variables: attr(),
  functions: attr(),

  classes: hasMany('class', { async: false, }),
  components: hasMany('class', { async: false, }),
  routingId: computed('id', function() {
    return `modules/${this.get('id')}`;
  })
});
					</code></pre>-
					<aside class="notes">
            Isn't an issue, you can transmit more data, and is actually kinda neat
					</aside>
        </section>
				<section>
One class per type in your api
					<aside class="notes">
            No matter how inconsequential, simple or without further use
					</aside>
        </section>
				<section>
          1 Model
        </section>
				<section>
          100 Model
        </section>
				<section>
          10000 Models
					<aside class="notes">
10 0000 Classes
Explain why deeply nested, lots of projections
					</aside>
        </section>
				<section>
Deeply nested
        </section>
				<section>
          Thousands of classes
        </section>
				<section>
A schema might not be neccessary
        </section>
				<section>
Provided in the api payload
        </section>
				<section>
						<pre><code data-trim contenteditable>
import DS from 'ember-data';
import { computed } from '@ember/object';

const { attr, hasMany } = DS;

export default DS.Model.extend({
  file: attr(),
  variables: attr(),
  functions: attr(),

  classes: hasMany('class', { async: false, }),
  components: hasMany('class', { async: false, }),
  routingId: computed('id', function() {
    return `modules/${this.get('id')}`;
  })
});
					</code></pre>-
					<aside class="notes">
            Isn't an issue, you can transmit more data, and is actually kinda neat
					</aside>
        </section>
				<section>
					Ember MegaMorphic Model (ember-m3)
        </section>
				<section>
Separates schema and class info
        </section>
				<section>
All Models have the same backing class 
						<pre><code data-trim contenteditable>
let user: MegamorphicModel = store.findRecord('user', 'thorsteinsson');
let company: MegamorphicModel = store.findRecord('company', 'LinkedIn');
          </code></pre>-
				</section>
				<section>
Image of no models
        </section>

				<section>
          Dynamic Schema
        </section>

				<section>
Arbitrarily Nested Models
        </section>
				<section>
  Template only components
						<pre><code data-trim contenteditable>
          </code></pre>-
        </section>

				<section>
Trade offs
					<aside class="notes">
            Perfect example of what we need to happen
            Bring back into Ember Data
					</aside>
        </section>
				<section>
          - Performance at scale
          - Api complexity?
					<aside class="notes">
            In case addon docs grow to thousands of pages, we are all set
					</aside>
        </section>
				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/addon.png" alt="Meny">
					<aside class="notes">

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/sam.png" alt="Meny">
					<aside class="notes">
            Lets go back to that tweet I was so proud of a few minutes ago
            Why does Ember+Data work so well for it
					</aside>
        </section>

        <section>
          Consistent API
					<aside class="notes">
We shouldn't optimize the API too much
					</aside>
        </section>

				<section>
          Scale & Performance
        </section>

				<section>
          Advanced Data Management
        </section>

				<section>
          FindAll
        </section>

				<section>
					  Good core
        </section>

				<section>
					 How to expand 
        </section>

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/overflow.png" alt="Meny">
				</section>
				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/overflow2.png" alt="Meny">
				</section>
				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/observer.png" alt="Meny">
        </section>
				<section>
          - Performance at scale
          - Api complexity?

          - Advanced Data Handling Capabilites

          - DX and learning
        </section>


        <section>
Model Fragmnets
        </section>

				<section>
						<pre><code data-trim contenteditable>
import DS from 'ember-data';
import { computed } from '@ember/object';

const { attr, hasMany } = DS;

export default DS.Model.extend({
  file: attr(),
  variables: attr(),
  functions: attr(),

  classes: hasMany('class', { async: false, }),
  components: hasMany('class', { async: false, }),
  routingId: computed('id', function() {
    return `modules/${this.get('id')}`;
  })
});
					</code></pre>-
					<aside class="notes">
          Isolated Model Layer with a schema
					</aside>
				</section>
				<section>
          Schema Information
						<pre><code data-trim contenteditable>
{
  attributes: ['file', 'variables', 'functions'],
  relationships: ['classes', 'components']
}
          </code></pre>-
				</section>
				<section>
						<pre><code data-trim contenteditable>
let user = store.findRecord('user', 'NullVoxPopuli');
					</code></pre>-
        </section>
				<section>
						<pre><code data-trim contenteditable>
import DS from 'ember-data';
import { computed } from '@ember/object';

const { attr, hasMany } = DS;

export default DS.Model.extend({
  file: attr(),
  variables: attr(),
  functions: attr(),

  classes: hasMany('class', { async: false, }),
  components: hasMany('class', { async: false, }),
  routingId: computed('id', function() {
    return `modules/${this.get('id')}`;
  })
});
					</code></pre>-
					<aside class="notes">
            Isn't an issue, you can transmit more data, and is actually kinda neat
					</aside>
        </section>
				<section>
One class per type in your api
					<aside class="notes">
            No matter how inconsequential, simple or without further use
					</aside>
        </section>
				<section>
          1 Model
        </section>
				<section>
          100 Model
        </section>
				<section>
          10000 Models
					<aside class="notes">
10 0000 Classes
Explain why deeply nested, lots of projections
					</aside>
        </section>
				<section>
Deeply nested
        </section>
				<section>
          Thousands of classes
        </section>
				<section>
A schema might not be neccessary
        </section>
				<section>
Provided in the api payload
        </section>
				<section>
						<pre><code data-trim contenteditable>
import DS from 'ember-data';
import { computed } from '@ember/object';

const { attr, hasMany } = DS;

export default DS.Model.extend({
  file: attr(),
  variables: attr(),
  functions: attr(),

  classes: hasMany('class', { async: false, }),
  components: hasMany('class', { async: false, }),
  routingId: computed('id', function() {
    return `modules/${this.get('id')}`;
  })
});
					</code></pre>-
					<aside class="notes">
            Isn't an issue, you can transmit more data, and is actually kinda neat
					</aside>
        </section>
				<section>
					Ember MegaMorphic Model (ember-m3)
        </section>
				<section>
Separates schema and class info
        </section>
				<section>
All Models have the same backing class 
						<pre><code data-trim contenteditable>
let user: MegamorphicModel = store.findRecord('user', 'thorsteinsson');
let company: MegamorphicModel = store.findRecord('company', 'LinkedIn');
          </code></pre>-
				</section>
				<section>
Image of no models
        </section>

				<section>
          Dynamic Schema
        </section>

				<section>
Arbitrarily Nested Models
        </section>
				<section>
  Template only components
						<pre><code data-trim contenteditable>
          </code></pre>-
        </section>

				<section>
Trade offs
					<aside class="notes">
            Perfect example of what we need to happen
            Bring back into Ember Data
					</aside>
        </section>
				<section>
          - Performance at scale
          - Api complexity?
					<aside class="notes">
            In case addon docs grow to thousands of pages, we are all set
					</aside>
        </section>
				<section>
					<img style="border:0px; box-shadow:none;"" src="./images/addon.png" alt="Meny">
					<aside class="notes">
					</aside>
				</section>

				<section>
Advanced Data Handling Capabilites
        </section>

				<section>
          Data loading patterns
				</section>
				<section>
						<pre><code data-trim contenteditable>
store.findRecord('user', 'bryancrotaz')
          </code></pre>-
        </section>
				<section>
						<pre><code data-trim contenteditable>
store.findAll('user')
          </code></pre>-
        </section>

				<section>
Similar to JSON API if your payload is flat
        </section>

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/storefront.png" alt="Meny">
        </section>

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/observer-data.png" alt="Meny">
        </section>

				<section>
				  2019
					<aside class="notes">
            Okay great we have all of these addons, what do we do??
            So all of these addons are great
					</aside>
        </section>
				<section>
       Good core
       Addons that are problem solving
        </section>

				<section>
          Large standard library
					<aside class="notes">
					</aside>
        </section>

				<section>
          Every Ember Developer is a potential Addon Author
        </section>

				<section>
          Decompose
        </section>

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/rfcs.png" alt="Meny">
        </section>

				<section>
					- Orbit JS
        </section>

				<section>
					Dan Gebharts talk
        </section>

				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/core.png" alt="Meny">
        </section>
				<section>
          <img style="border:0px; box-shadow:none;"" src="./images/core-2.png" alt="Meny">
        </section>

				<section>
          We are recruiting!
        </section>

				<section>
          Thanks!
          <h3 style="margin-right: 80px">@terzicigor</h3>
					<aside class="notes">
            Thanks for not falling asleep
					</aside>

        </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				width: '100%',
				height: '100%',
        margin: '0',
        fragments: true,
        history: true,

				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
